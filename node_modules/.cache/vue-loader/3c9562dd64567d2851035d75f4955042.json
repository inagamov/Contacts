{"remainingRequest":"/var/www/html/Contacts/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/Contacts/src/views/Contact.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/Contacts/src/views/Contact.vue","mtime":1600191611844},{"path":"/var/www/html/Contacts/node_modules/cache-loader/dist/cjs.js","mtime":1599838275000},{"path":"/var/www/html/Contacts/node_modules/vue-loader/lib/index.js","mtime":1599838275000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJwoKLy8gQ29tcG9uZW50cwppbXBvcnQgcHJlbG9hZGVyIGZyb20gJ0AvY29tcG9uZW50cy9wcmVsb2FkZXInCgovLyBDb250YWN0IHBob3RvIC0gaW5pdGlhbHMKaW1wb3J0IFZ1ZUluaXRpYWxzSW1nIGZyb20gJ3Z1ZS1pbml0aWFscy1pbWcnClZ1ZS51c2UoVnVlSW5pdGlhbHNJbWcpOwoKLy8gVXRpbHMKaW1wb3J0IGxhenlsb2FkIGZyb20gJ0AvY29tcG9uZW50cy91dGlscy9sYXp5bG9hZCcKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdDb250YWN0cycsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgcHJlbG9hZGVyLAogICAgfSwKCiAgICBwcm9wczogewogICAgICAgIHByZWxvYWRlcjogeyB0eXBlOiBPYmplY3QsIGRlZmF1bHQ6ICgpID0+ICh7fSkgfQogICAgfSwKCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIC8vIEltYWdlcwogICAgICAgIHVybDogewogICAgICAgICAgICBhZGQ6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pbWcvYWRkLnBuZycpLAogICAgICAgICAgICByZW1vdmU6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pbWcvcmVtb3ZlLnBuZycpLAogICAgICAgICAgICBiYWNrOiByZXF1aXJlKCcuLi9hc3NldHMvaW1nL2Rvd24tYXJyb3cucG5nJyksCiAgICAgICAgICAgIHVuZG86IHJlcXVpcmUoJy4uL2Fzc2V0cy9pbWcvdW5kby5wbmcnKSwKICAgICAgICB9LAoKICAgICAgICAvLyBSZWxhdGVkIHRvIGNvbnRhY3QKICAgICAgICBjb250YWN0czogbnVsbCwKICAgICAgICBjb250YWN0OiBudWxsLAoKICAgICAgICAvLyBBZGRpdGlvbmFsIGNvbnRhY3QgaW5mbwogICAgICAgIGZpZWxkczogW10sCiAgICAgICAgZmllbGRUb1JlbW92ZTogbnVsbCwKICAgICAgICB1cGRhdGVkRmllbGQ6IHsKICAgICAgICAgICAga2V5OiAnJywKICAgICAgICAgICAgdmFsdWU6ICcnCiAgICAgICAgfSwKCiAgICAgICAgLy8gQmFja3VwCiAgICAgICAgYmFja3VwZWRGaWVsZDogbnVsbCwKCiAgICAgICAgLy8gRWRpdCB3aW5kb3cKICAgICAgICBlZGl0V2luZG93SXNPcGVuZWQ6IGZhbHNlLAogICAgICAgIGNvbmZpcm1DYW5jZWxsYXRpb25PZkVkaXRpbmdGaWVsZDogZmFsc2UsCiAgICB9KSwKCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0RmllbGRzICgpIHsKICAgICAgICAgICAgLy8gQ2xlYXIgcHJldmlvdXMgZmllbGRzCiAgICAgICAgICAgIHRoaXMuZmllbGRzID0gW107CgogICAgICAgICAgICAvLyBDaGVjayBmb3IgYWRkaXRpb25hbCBpbmZvIC0gZmllbGRzCiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmNvbnRhY3QpLmxlbmd0aCA+IDIpIHsKICAgICAgICAgICAgICAgIC8vIExvb3AgYWxsIGtleXMgYW5kIHB1c2ggdGhlbSB0byB0aGUgZmllbGRzIGFycmF5CiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmNvbnRhY3QpKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gSWYgZmllbGQga2V5IGFuZCB2YWx1ZSBhcmUgZmlsbGVkCiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAhPSAnJyAmJiB2YWx1ZSAhPSAnJyAmJiBrZXkgIT0gJ2lkJyAmJiBrZXkgIT0gJ25hbWUnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFB1c2ggYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBmaWVsZAogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpZWxkcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleToga2V5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBJZiBrZXkgb3IgdmFsdWUgKG9yIGtleSBhbmQgdmFsdWUgYXQgdGhlIHNhbWUgdGltZSkgb2YgdGhlIGZpZWxkIGlzIChhcmUpIGVtcHR5CiAgICAgICAgICAgICAgICAgICAgLy8gSWYga2V5IHRoaXMgaXMgdGhlIGRlZmF1bHQga2V5IChsaWtlICdpZCcgb3IgJ25hbWUnKQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbnRhY3Qua2V5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIGFkZE5ld0ZpZWxkICgpIHsKICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBpbmZvIGFib3V0IGNvbnRhY3QKICAgICAgICAgICAgdGhpcy5maWVsZHMucHVzaCh7CiAgICAgICAgICAgICAgICBrZXk6ICcnLAogICAgICAgICAgICAgICAgdmFsdWU6ICcnLAogICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICBvcGVuQ29uZmlybWF0aW9uV2luZG93IChmaWVsZCwgaW5kZXgpIHsKICAgICAgICAgICAgLy8gU2V0IGZpZWxkIGluZm8gdG8gcmVtb3ZlCiAgICAgICAgICAgIGZpZWxkLmluZGV4ID0gaW5kZXg7CgogICAgICAgICAgICAvLyBPcGVuIGNvbmZpcm1hdGlvbiB3aW5kb3cKICAgICAgICAgICAgdGhpcy5maWVsZFRvUmVtb3ZlID0gZmllbGQ7CiAgICAgICAgfSwKCiAgICAgICAgY2xvc2VDb25maXJtYXRpb25XaW5kb3cgKCkgewogICAgICAgICAgICAvLyBDbG9zZSBjb25maXJtYXRpb24gd2luZG93cwogICAgICAgICAgICB0aGlzLmZpZWxkVG9SZW1vdmUgPSBudWxsOwoKICAgICAgICAgICAgLy8gT3BlbiB3aW5kb3cgdG8gY29uZmlybSB0aGUgY2FuY2VsbGF0aW9uIG9mIGVkaXRpbmcgdGhlIGZpZWxkCiAgICAgICAgICAgIHRoaXMuY29uZmlybUNhbmNlbGxhdGlvbk9mRWRpdGluZ0ZpZWxkID0gZmFsc2U7CiAgICAgICAgfSwKCiAgICAgICAgcmVtb3ZlRmllbGQgKCkgewogICAgICAgICAgICAvLyBSZW1vdmluZyBmaWVsZCBmcm9tIHRoZSB2aWV3CiAgICAgICAgICAgIHRoaXMuZmllbGRzLnNwbGljZSh0aGlzLmZpZWxkVG9SZW1vdmUuaW5kZXgsIDEpOwoKICAgICAgICAgICAgaWYgKHRoaXMuY29udGFjdC5oYXNPd25Qcm9wZXJ0eSh0aGlzLmZpZWxkVG9SZW1vdmUua2V5KSkgewogICAgICAgICAgICAgICAgLy8gUmVtb3ZpbmcgZmllbGQgbG9jYWxseQogICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoaXMuZmllbGRUb1JlbW92ZS5rZXk7CiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5jb250YWN0W2tleV07CgogICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgY29udGFjdCBpbiBhIGNvbnRhY3RzIGxpc3QKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb250YWN0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnRhY3RzW2ldLmlkID09IHRoaXMuY29udGFjdC5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIG9sZCBjb250YWN0IGluZm8gd2l0aCB0aGUgbmV3IG9uZQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhY3RzW2ldID0gdGhpcy5jb250YWN0OwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBkYXRhIGluIGxvY2FsIHN0b3JhZ2UKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNvbnRhY3RzID0gSlNPTi5zdHJpbmdpZnkodGhpcy5jb250YWN0cyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBDbG9zZSBjb25maXJtYXRpb24gd2luZG93CiAgICAgICAgICAgIHRoaXMuY2xvc2VDb25maXJtYXRpb25XaW5kb3coKTsKICAgICAgICB9LAoKICAgICAgICBvcGVuRWRpdFdpbmRvdyAoZmllbGQsIGluZGV4KSB7CiAgICAgICAgICAgIC8vIE9wZW4gZWRpdCBmaWVsZCB3aW5kb3cKICAgICAgICAgICAgdGhpcy5lZGl0V2luZG93SXNPcGVuZWQgPSB0cnVlOwoKICAgICAgICAgICAgLy8gQmFja3VwIHRoZSBmaWVsZAogICAgICAgICAgICB0aGlzLmJhY2t1cGVkRmllbGQgPSBmaWVsZDsKICAgICAgICAgICAgdGhpcy5iYWNrdXBlZEZpZWxkLmluZGV4ID0gaW5kZXg7CgogICAgICAgICAgICAvLyBHZXQgZGVmYXVsdCBmaWVsZCBkYXRhICYgcmVwZWF0IGl0IGZvciBmdXJ1dGUgdXBkYXRlcwogICAgICAgICAgICB0aGlzLnVwZGF0ZWRGaWVsZC5rZXkgPSBmaWVsZC5rZXk7CiAgICAgICAgICAgIHRoaXMudXBkYXRlZEZpZWxkLnZhbHVlID0gZmllbGQudmFsdWU7CiAgICAgICAgfSwKCiAgICAgICAgY2xvc2VFZGl0aW5nRmllbGRXaW5kb3cgKCkgewogICAgICAgICAgICAvLyBDbG9zZSBlZGl0IGZpZWxkIHdpbmRvdwogICAgICAgICAgICB0aGlzLmVkaXRXaW5kb3dJc09wZW5lZCA9IGZhbHNlOwoKICAgICAgICAgICAgLy8gQ2xlYXIgZGF0YSBmb3IgdXBkYXRlZCBmaWVsZHMKICAgICAgICAgICAgdGhpcy51cGRhdGVkRmllbGQgPSB7CiAgICAgICAgICAgICAgICBrZXk6ICcnLAogICAgICAgICAgICAgICAgdmFsdWU6ICcnCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKCiAgICAgICAgdXBkYXRlRmllbGQgKGluZGV4KSB7CiAgICAgICAgICAgIC8vIEZpbmQgdGhlIGZpZWxkCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5maWVsZHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpZWxkcy5pbmRleE9mKHRoaXMuZmllbGRzW2ldKSA9PT0gaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgZW1wdGluZXNzIG9mIHRoZSBmaWVsZAogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwZGF0ZWRGaWVsZC5rZXkgIT0gJycgJiYgdGhpcy51cGRhdGVkRmllbGQudmFsdWUgIT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyB0aGUgbmV3IGZpZWxkCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2t1cGVkRmllbGQua2V5ID09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIG5ldyBwcm9wLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWN0W3RoaXMudXBkYXRlZEZpZWxkLmtleV0gPSB0aGlzLnVwZGF0ZWRGaWVsZC52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjbG9uZSAoZm9yIG9iaikgZnVuY3Rpb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lID0gKG9iaikgPT4gT2JqZWN0LmFzc2lnbih7fSwgb2JqKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGdW5jdGlvbiB0byBzd2FwIG9sZCBrZXkgd2l0aCB0aGUgbmV3IG9uZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVuYW1lS2V5ID0gKG9iamVjdCwga2V5LCBuZXdLZXkpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbG9uZWRPYmogPSBjbG9uZShvYmplY3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldEtleSA9IGNsb25lZE9ialtrZXldOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY2xvbmVkT2JqW2tleV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVkT2JqW25ld0tleV0gPSB0YXJnZXRLZXk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbnRhY3RbdGhpcy5iYWNrdXBlZEZpZWxkLmtleV07CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbG9uZWRPYmo7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBuZXcga2V5LiBmb3IgdGhlIGZpZWxkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5hbWVLZXkodGhpcy5jb250YWN0LCB0aGlzLmJhY2t1cGVkRmllbGQua2V5LCB0aGlzLnVwZGF0ZWRGaWVsZC5rZXkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBuZXcgdmFsdWUuIGZvciB0aGUgZmllbGQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFjdFt0aGlzLnVwZGF0ZWRGaWVsZC5rZXldID0gdGhpcy51cGRhdGVkRmllbGQudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGNvbnRhY3QgaW4gYSBjb250YWN0cyBsaXN0CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb250YWN0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udGFjdHNbaV0uaWQgPT0gdGhpcy5jb250YWN0LmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVwbGFjZSBvbGQgY29udGFjdCBpbmZvIHdpdGggdGhlIG5ldyBvbmUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhY3RzW2ldID0gdGhpcy5jb250YWN0OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGRhdGEgaW4gbG9jYWwgc3RvcmFnZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5jb250YWN0cyA9IEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGFjdHMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDbG9zZSB0aGUgZWRpdCBmaWVsZCB3aW5kb3cKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlRWRpdGluZ0ZpZWxkV2luZG93KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlZnJlc2ggYWRkaXRpb25hbCBpbmZvIGFib3V0IHRoZSBjb250YWN0CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RmllbGRzKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgb3BlbkNvbmZpcm1hdGlvbldpbmRvd1RvQ2FuY2VsRWRpdGluZ1RoZUZpZWxkICgpIHsKICAgICAgICAgICAgLy8gT3BlbiB3aW5kb3cgdG8gY29uZmlybSB0aGUgY2FuY2VsbGF0aW9uIG9mIGVkaXRpbmcgdGhlIGZpZWxkCiAgICAgICAgICAgIHRoaXMuY29uZmlybUNhbmNlbGxhdGlvbk9mRWRpdGluZ0ZpZWxkID0gdHJ1ZTsKICAgICAgICB9LAoKICAgICAgICB1cGRhdGVDb250YWN0TmFtZSAoKSB7CiAgICAgICAgICAgIC8vIEZpbmQgdGhlIGNvbnRhY3QgaW4gYSBjb250YWN0cyBsaXN0CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb250YWN0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udGFjdHNbaV0uaWQgPT0gdGhpcy5jb250YWN0LmlkKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udGFjdC5uYW1lICE9ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgZGF0YSBpbiBsb2NhbCBzdG9yYWdlCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5jb250YWN0cyA9IEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGFjdHMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgCiAgICAgICAgdW5kb0xhc3RBY3Rpb24gKCkgewogICAgICAgICAgICAvLyBGaW5kIHRoZSBmaWVsZAogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZmllbGRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5maWVsZHMuaW5kZXhPZih0aGlzLmZpZWxkc1tpXSkgPT09IHRoaXMuYmFja3VwZWRGaWVsZC5pbmRleCkgewogICAgICAgICAgICAgICAgICAgIC8vIFJlc3RvcmUgb2xkIHZhbHVlIGZvciB0aGUgZmllbGQKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhY3RbdGhpcy5maWVsZHNbaV0ua2V5XSA9IHRoaXMuYmFja3VwZWRGaWVsZC52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgLy8gUmVzdG9yZSBvbGQga2V5IGZvciB0aGUgZmllbGQKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5maWVsZHNbaV0ua2V5ICE9PSB0aGlzLmJhY2t1cGVkRmllbGQua2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLmNvbnRhY3QsIHRoaXMuYmFja3VwZWRGaWVsZC5rZXksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMuY29udGFjdCwgdGhpcy5maWVsZHNbaV0ua2V5KSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbnRhY3RbdGhpcy5maWVsZHNbaV0ua2V5XTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGNvbnRhY3QgaW4gYSBjb250YWN0cyBsaXN0CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbnRhY3RzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnRhY3RzW2ldLmlkID09IHRoaXMuY29udGFjdC5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVwbGFjZSBvbGQgY29udGFjdCBpbmZvIHdpdGggdGhlIG5ldyBvbmUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFjdHNbaV0gPSB0aGlzLmNvbnRhY3Q7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBkYXRhIGluIGxvY2FsIHN0b3JhZ2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5jb250YWN0cyA9IEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGFjdHMpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyBSZWZyZXNoIGFkZGl0aW9uYWwgaW5mbyBhYm91dCB0aGUgY29udGFjdAogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RmllbGRzKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAoKICAgIGNyZWF0ZWQgKCkgewogICAgICAgIC8vIExvYWQgYWxsIGNvbnRhY3RzIGZyb20gdGhlIGxvY2FsIHN0b3JhZ2UKICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmNvbnRhY3RzKSB7CiAgICAgICAgICAgIHRoaXMuY29udGFjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jb250YWN0cyk7CiAgICAgICAgfQoKICAgICAgICAvLyBGaW5kIHRoZSBjb250YWN0IGluIGEgY29udGFjdHMgbGlzdAogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb250YWN0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAodGhpcy5jb250YWN0c1tpXS5pZCA9PSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgICAgICAgIC8vIFNhdmluZyBjb250YWN0IGluZm8KICAgICAgICAgICAgICAgIHRoaXMuY29udGFjdCA9IHRoaXMuY29udGFjdHNbaV07CgogICAgICAgICAgICAgICAgLy8gR2V0IGFkZGl0aW9uYWwgaW5mbyBhYm91dCB0aGUgY29udGFjdAogICAgICAgICAgICAgICAgdGhpcy5nZXRGaWVsZHMoKTsKCiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIGNvbnRhY3QgdXNlciBpcyBsb29raW5nIGZvciAKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLi4vbm90Rm91bmQnKTsKICAgIH0sCgogICAgZGlyZWN0aXZlczogewogICAgICAgIGxhenlsb2FkCiAgICB9Cn0K"},{"version":3,"sources":["Contact.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Contact.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <preloader/>\n\n        <!-- Background to close any window -->\n        <div class=\"full-window-size-window\" v-if=\"editWindowIsOpened || fieldToRemove || confirmCancellationOfEditingField\" @click=\"editWindowIsOpened != null ? closeEditingFieldWindow() : closeConfirmationWindow()\"></div>\n\n        <div class=\"container\">\n            <!-- Back to the contacts -->\n            <router-link to=\"/\">\n                <div title=\"Back\" class=\"button button_back\"><img v-lazyload :data-src=\"url.back\" alt=\"Back\"></div>\n            </router-link>\n\n            <!-- Undo the last action -->\n            <div class=\"button button_undo\" @click=\"undoLastAction\" title=\"Undo\"><img v-lazyload :data-src=\"url.undo\" alt=\"Undo\"></div>\n\n            <!-- Basic contact info -->\n            <div class=\"contact-header\">\n                <vue-initials-img :name=\"contact.name\" :title=\"contact.name\" class=\"contact-header__initials\"/>\n                <input type=\"text\" v-model=\"contact.name\" @input=\"updateContactName\" class=\"contact-header__name\">\n            </div>\n\n            <div class=\"contact-info\">\n                <!-- Add additional info -->\n                <div class=\"button button_add-info\" @click=\"addNewField\">Add new field</div>\n\n                <!-- Message if user has no additional info fields -->\n                <p v-if=\"!fields[0]\" class=\"text-align-center padding-top-50\">You didn't add any additional info yet.</p>\n\n                <!-- Additional info -->\n                <div v-for=\"(field, index) in fields\" :key=\"field.id\" class=\"contact-info__list\">\n                    <div style=\"width: 100%\">\n                        <p class=\"contact-info__value\"><span class=\"contact-info__value_grey\">{{ field.key }}: </span>{{ field.value }}</p>\n                    </div>\n\n                    <button class=\"contact-info__button contact-info__button_edit\" @click=\"openEditWindow(field, index)\">Edit</button>\n                    <button @click=\"openConfirmationWindow(field, index)\" class=\"contact-info__button contact-info__button_delete\">Delete</button>\n                </div>\n            </div>\n\n            <!-- Edit field window -->\n            <div class=\"modal\" v-if=\"editWindowIsOpened\" @keyup.enter=\"updateField(backupedField.index)\">\n                <div class=\"edit-contact-info\">\n                    <input type=\"text\" placeholder=\"Age\" class=\"edit-contact-info__input\" v-model=\"updatedField.key\">\n                    <input type=\"text\" placeholder=\"16\" class=\"edit-contact-info__input\" v-model=\"updatedField.value\">\n                </div>\n\n                <div class=\"modal__actions\">\n                    <div class=\"modal__cancel\" @click=\"openConfirmationWindowToCancelEditingTheField\">Cancel</div>\n                    <p v-if=\"updatedField.key == '' || updatedField.value == ''\" class=\"modal__error\">Inputs can't be empty.</p>\n                    <div class=\"modal__continue\" @click=\"updateField(backupedField.index)\">Save</div>\n                </div>\n            </div>\n\n            <!-- Confirmation window - cancel editing the field -->\n            <div class=\"modal\" v-if=\"confirmCancellationOfEditingField\" @keyup.enter=\"closeConfirmationWindow(); closeEditingFieldWindow()\">\n                <p class=\"message-text\">Are you sure you want to cancel the changes?</p>\n\n                <div class=\"modal__actions\">\n                    <div class=\"modal__cancel\" @click=\"closeConfirmationWindow\">No</div>\n                    <div class=\"modal__continue\" @click=\"closeConfirmationWindow(); closeEditingFieldWindow()\">Yes</div>\n                </div>\n            </div>\n\n            <!-- Confirmation window - remove field -->\n            <div class=\"modal\" v-if=\"fieldToRemove\" @keyup.enter=\"removeField\">\n                <p class=\"message-text\">Are you sure you want to remove field <span class=\"modal__highlighted-text\">{{ fieldToRemove.key == '' ? 'empty' : fieldToRemove.key }}</span> with the value of <span class=\"modal__highlighted-text\">{{ fieldToRemove.value == '' ? 'empty' : fieldToRemove.value }}</span>?</p>\n\n                <div class=\"modal__actions\">\n                    <div class=\"modal__cancel\" @click=\"closeConfirmationWindow\">Cancel</div>\n                    <div class=\"modal__continue\" @click=\"removeField\">Remove</div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Vue from 'vue'\n\n// Components\nimport preloader from '@/components/preloader'\n\n// Contact photo - initials\nimport VueInitialsImg from 'vue-initials-img'\nVue.use(VueInitialsImg);\n\n// Utils\nimport lazyload from '@/components/utils/lazyload'\n\nexport default {\n    name: 'Contacts',\n    components: {\n        preloader,\n    },\n\n    props: {\n        preloader: { type: Object, default: () => ({}) }\n    },\n\n    data: () => ({\n        // Images\n        url: {\n            add: require('../assets/img/add.png'),\n            remove: require('../assets/img/remove.png'),\n            back: require('../assets/img/down-arrow.png'),\n            undo: require('../assets/img/undo.png'),\n        },\n\n        // Related to contact\n        contacts: null,\n        contact: null,\n\n        // Additional contact info\n        fields: [],\n        fieldToRemove: null,\n        updatedField: {\n            key: '',\n            value: ''\n        },\n\n        // Backup\n        backupedField: null,\n\n        // Edit window\n        editWindowIsOpened: false,\n        confirmCancellationOfEditingField: false,\n    }),\n\n    methods: {\n        getFields () {\n            // Clear previous fields\n            this.fields = [];\n\n            // Check for additional info - fields\n            if (Object.keys(this.contact).length > 2) {\n                // Loop all keys and push them to the fields array\n                for (const [key, value] of Object.entries(this.contact)) {\n                    // If field key and value are filled\n                    if (key != '' && value != '' && key != 'id' && key != 'name') {\n                        // Push additional information field\n                        this.fields.push({\n                            key: key,\n                            value: value,\n                        });\n                    \n                    // If key or value (or key and value at the same time) of the field is (are) empty\n                    // If key this is the default key (like 'id' or 'name')\n                    } else {\n                        delete this.contact.key;\n                    }\n                }\n            }\n        },\n\n        addNewField () {\n            // Create new info about contact\n            this.fields.push({\n                key: '',\n                value: '',\n            });\n        },\n\n        openConfirmationWindow (field, index) {\n            // Set field info to remove\n            field.index = index;\n\n            // Open confirmation window\n            this.fieldToRemove = field;\n        },\n\n        closeConfirmationWindow () {\n            // Close confirmation windows\n            this.fieldToRemove = null;\n\n            // Open window to confirm the cancellation of editing the field\n            this.confirmCancellationOfEditingField = false;\n        },\n\n        removeField () {\n            // Removing field from the view\n            this.fields.splice(this.fieldToRemove.index, 1);\n\n            if (this.contact.hasOwnProperty(this.fieldToRemove.key)) {\n                // Removing field locally\n                var key = this.fieldToRemove.key;\n                delete this.contact[key];\n\n                // Find the contact in a contacts list\n                for (var i = 0; i < this.contacts.length; i++) {\n                    if (this.contacts[i].id == this.contact.id) {\n                        // Replace old contact info with the new one\n                        this.contacts[i] = this.contact;\n\n                        // Update the data in local storage\n                        localStorage.contacts = JSON.stringify(this.contacts);\n                    }\n                }\n            }\n\n            // Close confirmation window\n            this.closeConfirmationWindow();\n        },\n\n        openEditWindow (field, index) {\n            // Open edit field window\n            this.editWindowIsOpened = true;\n\n            // Backup the field\n            this.backupedField = field;\n            this.backupedField.index = index;\n\n            // Get default field data & repeat it for furute updates\n            this.updatedField.key = field.key;\n            this.updatedField.value = field.value;\n        },\n\n        closeEditingFieldWindow () {\n            // Close edit field window\n            this.editWindowIsOpened = false;\n\n            // Clear data for updated fields\n            this.updatedField = {\n                key: '',\n                value: ''\n            };\n        },\n\n        updateField (index) {\n            // Find the field\n            for (var i = 0; i < this.fields.length; i++) {\n                if (this.fields.indexOf(this.fields[i]) === index) {\n                    // Check for emptiness of the field\n                    if (this.updatedField.key != '' && this.updatedField.value != '') {\n                        // Check if it's the new field\n                        if (this.backupedField.key == '') {\n                            // Create the new prop.\n                            this.contact[this.updatedField.key] = this.updatedField.value;\n\n                    } else {\n                            // The clone (for obj) function\n                            const clone = (obj) => Object.assign({}, obj);\n\n                            // Function to swap old key with the new one\n                            const renameKey = (object, key, newKey) => {\n                                const clonedObj = clone(object);\n                                const targetKey = clonedObj[key];\n\n                                delete clonedObj[key];\n                                clonedObj[newKey] = targetKey;\n\n                                delete this.contact[this.backupedField.key];\n\n                                return clonedObj;\n                            };\n\n                            // Set new key. for the field\n                            renameKey(this.contact, this.backupedField.key, this.updatedField.key);\n\n                            // Set new value. for the field\n                            this.contact[this.updatedField.key] = this.updatedField.value;\n                        }\n\n                        // Find the contact in a contacts list\n                        for (var i = 0; i < this.contacts.length; i++) {\n                            if (this.contacts[i].id == this.contact.id) {\n                                // Replace old contact info with the new one\n                                this.contacts[i] = this.contact;\n\n                                // Update the data in local storage\n                                localStorage.contacts = JSON.stringify(this.contacts);\n\n                                // Close the edit field window\n                                this.closeEditingFieldWindow();\n                            }\n                        }\n\n                        // Refresh additional info about the contact\n                        this.getFields();\n                    }\n                }\n            }\n        },\n\n        openConfirmationWindowToCancelEditingTheField () {\n            // Open window to confirm the cancellation of editing the field\n            this.confirmCancellationOfEditingField = true;\n        },\n\n        updateContactName () {\n            // Find the contact in a contacts list\n            for (var i = 0; i < this.contacts.length; i++) {\n                if (this.contacts[i].id == this.contact.id) {\n                    if (this.contact.name != '') {\n                        // Update the data in local storage\n                        localStorage.contacts = JSON.stringify(this.contacts);\n                    }\n                }\n            }\n        },\n        \n        undoLastAction () {\n            // Find the field\n            for (var i = 0; i < this.fields.length; i++) {\n                if (this.fields.indexOf(this.fields[i]) === this.backupedField.index) {\n                    // Restore old value for the field\n                    this.contact[this.fields[i].key] = this.backupedField.value;\n\n                    // Restore old key for the field\n                    if (this.fields[i].key !== this.backupedField.key) {\n                        Object.defineProperty(this.contact, this.backupedField.key,\n                            Object.getOwnPropertyDescriptor(this.contact, this.fields[i].key));\n                        delete this.contact[this.fields[i].key];\n                    }\n\n                    // Find the contact in a contacts list\n                    for (var i = 0; i < this.contacts.length; i++) {\n                        if (this.contacts[i].id == this.contact.id) {\n                            // Replace old contact info with the new one\n                            this.contacts[i] = this.contact;\n\n                            // Update the data in local storage\n                            localStorage.contacts = JSON.stringify(this.contacts);\n                        }\n                    }\n\n                    // Refresh additional info about the contact\n                    this.getFields();\n                }\n            }\n        }\n    },\n\n    created () {\n        // Load all contacts from the local storage\n        if (localStorage.contacts) {\n            this.contacts = JSON.parse(localStorage.contacts);\n        }\n\n        // Find the contact in a contacts list\n        for (var i = 0; i < this.contacts.length; i++) {\n            if (this.contacts[i].id == this.$route.params.id) {\n                // Saving contact info\n                this.contact = this.contacts[i];\n\n                // Get additional info about the contact\n                this.getFields();\n\n                return;\n            }\n        }\n\n        // If there is no contact user is looking for \n        this.$router.push('../notFound');\n    },\n\n    directives: {\n        lazyload\n    }\n}\n</script>\n\n<style scoped>\n    @import '../assets/css/styles.css';\n</style>"]}]}